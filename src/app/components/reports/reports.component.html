<div style="padding:0.7em; background-color: #2875f0 !important;
                box-shadow: 0 4px 2px -2px rgba(0, 0, 0, 0.2); border: none !important;">
    <h5 style="font-weight: bold;font-family: auto;text-align: left;color: #fff;">Expense Tracker</h5>
    <div class="row">
        <div class="col-6">
            <span style="color:#ffc107;  border-radius: 5px;">Reports</span>
        </div>
        <div class="col-6">
            <button type="button" style="float: right;" class="btn btn-warning" (click)="filterOn = !filterOn"><i
                    class="fa fa-filter">
                    <span style="margin-left:5px">Add Filter</span></i>
            </button>
        </div>

        <form [formGroup]="filterForm" (ngSubmit)="applyFilters()">
            <div style="text-align: center;margin-top:1em" *ngIf="filterOn" class="row">
                <div class="col-5">
                    <select class="form-select" formControlName="filterMonth">
                        <option *ngFor="let month of months">
                            {{month}}</option>
                    </select>
                </div>
                <div class="col-5">
                    <select class="form-select" formControlName="filterYear">
                        <option *ngFor="let year of years">
                            {{year}}</option>
                    </select>
                </div>
                <div class="col-2">
                    <button type="submit" class="btn btn-warning"><i class="fa fa-search">
                            <span style="margin-left:5px"></span></i>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- <ul>
        <li>Total Monthly View (Monthly income vs monthly exp)</li>
        <li>Category View (Each item vs target)</li>
        <li>Umbrella View (Each item vs target)</li>
        <li>Month on Month</li>
    </ul> -->
<div style="margin-top: 0.5em;" class="container row" style="margin-top: 0.5em !important;margin: auto;">
    <button class="col-3 reportBtn" (click)="showReport('overview')"
        [ngStyle]="{'background': overviewFlag ? '#fff':'#ffc107', 'color': overviewFlag ? '#ffc107':'#fff', 'border-left': overviewFlag ? '1px solid #ffc107':'1px solid #fff'}">
        Overview
    </button>
    <button class="col-3 reportBtn" (click)="showReport('monthly')"
        [ngStyle]="{'background': monthlyFlag ? '#fff':'#ffc107', 'color': monthlyFlag ? '#ffc107':'#fff'}">
        Monthly
    </button>
    <button class="col-3 reportBtn" (click)="showReport('target')"
        [ngStyle]="{'background': targetFlag ? '#fff':'#ffc107', 'color': targetFlag ? '#ffc107':'#fff'}">
        Targets
    </button>
    <button class="col-3 reportBtn" (click)="showReport('trend')"
        [ngStyle]="{'background': trendFlag ? '#fff':'#ffc107', 'color': trendFlag ? '#ffc107':'#fff', 'border-right': trendFlag ? '1px solid #ffc107':'1px solid #fff'}">
        Trends
    </button>
</div>
<br />

<div *ngIf="overviewFlag" style="margin-top: 5em;" class="row">
    <div class="col-1"></div>
    <span class="col-5" style="padding: 0.5em; border: 1px solid #fff; background:#ffc107;color:#fff">
        <h3>Total Income</h3>
    </span>
    <span class="col-5" style="padding: 0.5em; border: 1px solid #fff; text-align: center;color:#fff"
        [ngStyle]="{'background': overview.totalDeviation > 0 ? '#03a703':'red'}">
        <h2>{{overview.totalBudget}}</h2>
    </span>
    <div class="col-1"></div>
    <div class="col-1"></div>
    <span class="col-5" style="padding: 0.5em; border: 1px solid #fff; background:#ffc107;color:#fff">
        <h3>Total Expense</h3>
    </span>
    <span class="col-5" style="padding: 0.5em; border: 1px solid #fff; text-align: center;color:#fff"
        [ngStyle]="{'background': overview.totalDeviation > 0 ? '#03a703':'red'}">
        <h2>{{overview.totalExpense}}</h2>
    </span>
    <div class="col-1"></div>
    <div class="col-1"></div>
    <span class="col-5" style="padding: 0.5em; border: 1px solid #fff; background:#ffc107;color:#fff">
        <h3>Total Margin</h3>
    </span>
    <span class="col-5" style="padding: 0.5em; border: 1px solid #fff; text-align: center;color:#fff"
        [ngStyle]="{'background': overview.totalDeviation > 0 ? '#03a703':'red'}">
        <h2>{{overview.totalDeviation}}</h2>
    </span>
    <div class="col-1"></div>
</div>

<div *ngIf="monthlyFlag" class="table-container">
    <table class="table table-striped table-responsiv" style="background: none;">
        <thead>
            <tr>
                <th style="width:30%">Category</th>
                <th style="width:30%">Budget</th>
                <th style="width:30%">Expense</th>
                <td style="width:20%">Deviation</td>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let monthlyView of responseList">
                <td>{{monthlyView.category}}</td>
                <td>{{monthlyView.budget}}</td>
                <td>{{monthlyView.expense}}</td>
                <td>
                    {{monthlyView.budget - monthlyView.expense}} 
                </td>
            </tr>
        </tbody>
    </table>

</div>